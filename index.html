<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><title>Leaflet Layers Local</title><meta name="viewport" content="width=device-width,initial-scale=1.0"><link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"></head>
<body><div id="map" style="height:100vh"></div>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet-omnivore@0.3.4/leaflet-omnivore.min.js"></script>
<script>
  const map = L.map('map').setView([16.5,102.5],8);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:18,attribution:'&copy; OSM'}).addTo(map);

  const layerALTrack = omnivore.kml("AL_Track_KKNK.kml");
  const layerStation = omnivore.kml("Station.kml");
  const layerDOH = L.layerGroup();

  fetch("DOH_Show_KM.json")
    .then(r=>r.json())
    .then(d=>{
      L.geoJSON(d,{style:{color:'blue',weight:3}}).addTo(layerDOH);
    });

  layerALTrack.addTo(map);
  layerStation.addTo(map);
  layerDOH.addTo(map);

  L.control.layers(null,{
    "AL Track KKNK": layerALTrack,
    "Station": layerStation,
    "DOH KM": layerDOH
  },{collapsed:false}).addTo(map);

  layerALTrack.on('ready',()=>map.fitBounds(layerALTrack.getBounds()));
</script>
</body>
</html>
